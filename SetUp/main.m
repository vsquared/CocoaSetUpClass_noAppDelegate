////  main.m//  SetUp////  Created by vsquared.///*  SetUp is a subclass of NSObject and is used to build a main window, menu, and controls.*/#import <Cocoa/Cocoa.h>@interface SetUp: NSObject ///< protocols go here >{ NSWindow *window;}-(void) buildMenu;-(void) buildWnd;-(void) myBtnAction: (id)sender;-(void) quitBtnAction;@end@implementation SetUp-(void) myBtnAction: (id)sender { NSLog(@"Hello %@",window); printf("Good-bye.\n"); NSBeep();}-(void) quitBtnAction { [NSApp terminate:self];}-(void) buildMenu {// **** Menu Bar **** // NSMenu *menubar = [NSMenu new]; [NSApp setMainMenu:menubar];// **** App Menu **** // NSMenuItem *appMenuItem = [NSMenuItem new]; NSMenu *appMenu = [NSMenu new]; [appMenu addItemWithTitle: @"Quit" action:@selector(terminate:) keyEquivalent:@"q"]; [appMenuItem setSubmenu:appMenu]; [menubar addItem:appMenuItem];}-(void) buildWnd {#define _wndW  400#define _wndH  350 window = [[NSWindow alloc] initWithContentRect:NSMakeRect(0, 0, _wndW, _wndH) styleMask:NSWindowStyleMaskTitled | NSWindowStyleMaskClosable | NSWindowStyleMaskMiniaturizable | NSWindowStyleMaskResizable backing:NSBackingStoreBuffered defer:NO]; [window center]; [window setTitle: @"Test window"]; [window makeKeyAndOrderFront: nil]; // **** Button **** // NSButton *myBtn =[[NSButton alloc]initWithFrame:NSMakeRect( 30, 30, 95, 30 )]; [myBtn setBezelStyle:NSBezelStyleRounded ]; [myBtn setTitle: @"Beep"]; [myBtn setTarget:self]; [myBtn setAction: @selector (myBtnAction:)]; [[window contentView] addSubview: myBtn]; // **** Quit btn **** // NSButton *quitBtn = [[NSButton alloc]initWithFrame:NSMakeRect( _wndW - 50, 5, 40, 40 )]; [quitBtn setBezelStyle:NSBezelStyleCircular ]; [quitBtn setTitle: @"Q" ]; [quitBtn setAutoresizingMask: NSViewMinXMargin]; [quitBtn setTarget:self]; [quitBtn setAction:@selector(quitBtnAction)]; [[window contentView] addSubview: quitBtn];}@endint main() { NSApplication *application = [NSApplication sharedApplication]; SetUp *setUp = [[SetUp alloc] init]; [setUp buildMenu]; [setUp buildWnd]; [application activateIgnoringOtherApps:YES]; [application run]; return 0;}